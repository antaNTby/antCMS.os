<hr>
<div class="d-flex align-items-center gap-4">
    <div class="form-check form-switch align-items-center" title="Снять запрет">
        <input class="form-check-input" type="checkbox" role="switch" name="switcherFieldsetToggle" id="switcherFieldsetToggle" aria-labelledby="selectConfigFieldset">
        <label class="form-check-label" for="switcherFieldsetToggle"><i class="bi bi-lock-fill text-danger"></i></label>
    </div>
    <fieldset class="w-100 d-flex flex-column flex-md-row align-items-center gap-2" id="selectConfigFieldset" disabled>
        <label for="configSelector" class="form-check-label text-nowrap">Выбрать конфигурацию {$configSelectedIndex}</label>
        <select name="configSelector" id="configSelector" class="form-select">
            {section name=tt loop=$allTablesNames}
            {if $smarty.section.tt.index == $configSelectedIndex}
            {assign var=isSelected value="selected=selected"}{else}{assign var=isSelected value=""}
            {/if}
            <option {$isSelected} value="{$smarty.section.tt.index}">{$smarty.section.tt.index} - {$allTablesNames[$smarty.section.tt.index]}</option>
            {/section}
        </select>
        <button type="button" class="btn btn-dark w-100 text-nowrap" data-operation="addNewConfig">Создать/Обновить конфиг <i class="bi bi-database-add"></i></button>
        <button type="button" class="btn btn-primary w-100 text-nowrap" data-operation="ssss">Импортировать из `*__columns.json`<i class="bi bi-edit"></i></button>
        <button type="button" class="btn btn-danger w-100 text-nowrap" data-operation="ssss">Переписать `*__columns.json` <i class="bi bi-edit"></i></button>
    </fieldset>
</div>
<hr>
<div class="table-responsive-xl mb-4">
    <table id="columnsConfiguratorTable" class="table table-striped table-bordered table-sm">
        <thead class="table-secondary">
            <tr class="ant-text-rotated align-self-center align-middle text-center">
                <td class="ant-text-no-rotated">#</td>
                <th>data</th>
                <td>ind</td>
                <td>db</td>
                <td>dt</td>
                <th class="ant-text-no-rotated">title</th>
                <td>visible</td>
                <td>searchable</td>
                <td>orderable</td>
                {* <td>editable</td> *}
                <td>sort order</td>
                <th>enable</th>
                {* <td class="ant-text-no-rotated">actions</td> *}
                {* <td class="ant-text-no-rotated">sql_type</td> *}
                {* <td class="ant-text-no-rotated">input_type</td> *}
            </tr>
        </thead>
        <tbody>
            {section name=row loop=$dbTableFields|@count}
            <tr class="ant-text-no-rotated align-items-center">
                {if $iuConfigs}
                {assign var ="rowData" value=$iuConfigs[$smarty.section.row.index]}
                {assign var ="colData" value=$rowData.table_data}
                <td>{$smarty.section.row.index}&nbsp;<sub><span class="badge text-bg-light">{$colData.id}</span></sub></td>
                <td>{$colData.data}</td>
                <td>{$colData.ind}</td>
                <td>{$colData.db}</td>
                <td>{$colData.dt}</td>
                <td>{$colData.title}</td>
                <td>{$colData.visible}</td>
                <td>{$colData.searchable}</td>
                <td>{$colData.orderable}</td>
                {* <td>{$colData.editable}</td> *}
                <td>{$colData.sort_order}</td>
                <td>{$colData.enable}</td>
                {* <td>{$colData.actions}</td> *}
                {* <td>{$colData.sql_type}</td> *}
                {* <td>{$colData.input_type}</td> *}
                {/if}
            </tr>
            {/section}
        </tbody>
        <tfoot class="table-dark">
        </tfoot>
    </table>
</div>
<div class="shadow p-3 mb-5 mt-3 bg-body-tertiary rounded border border-1">
    <form class="p-3" action="save_defaultForm1">
        <input type="text" id="jsonFN" value="{$columnsJsonFileName}">
        <button class="btn btn-success btn-lg" id="btnSubmit" name="btnSubmit">save</button>
    </form>
</div>
<script src="/admin/js/ui/sub/conf_columns.js" type="module"></script>